{"version":3,"sources":["../../../../src/build/webpack/plugins/next-types-plugin.ts"],"names":["PLUGIN_NAME","createTypeGuardFile","fullPath","relativePath","options","type","slots","map","slot","join","collectNamedSlots","layoutPath","layoutDir","path","dirname","items","fs","readdir","withFileTypes","item","isDirectory","name","startsWith","push","slice","nodeRouteTypes","edgeRouteTypes","pageFiles","Set","createRouteDefinitions","fallback","length","route","NextTypesPlugin","constructor","dir","distDir","appDir","dev","isEdgeServer","pagesDir","typedRoutes","collectPage","filePath","isApp","sep","test","page","normalizeAppPath","relative","replace","isDynamicRoute","split","part","endsWith","apply","compiler","distDirRelative","assetDirRelative","handleModule","_mod","assets","mod","resource","layer","WEBPACK_LAYERS","server","IS_LAYOUT","IS_PAGE","relativePathToApp","relativePathToRoot","typePath","relativeImportPath","assetPath","sources","RawSource","hooks","compilation","tap","processAssets","tapAsync","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","callback","promises","chunkGroups","forEach","chunkGroup","chunks","chunk","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","Promise","all","file","linkTypePath"],"mappings":"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"}