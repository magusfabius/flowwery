{"version":3,"sources":["../../../src/server/dev/on-demand-entry-handler.ts"],"names":["onDemandEntryHandler","debug","origDebug","keys","Object","COMPILER_KEYS","COMPILER_INDEXES","treePathToEntrypoint","segmentPath","parentPath","parallelRouteKey","segment","path","startsWith","length","childSegmentPath","slice","convertDynamicParamTypeToSyntax","dynamicParamTypeShort","param","Error","getEntrypointsFromTree","tree","isFirst","parallelRoutes","currentSegment","Array","isArray","currentPath","reduce","paths","key","childTree","childPages","ADDED","Symbol","BUILDING","BUILT","EntryTypes","ENTRY","CHILD_ENTRY","entries","invalidator","getInvalidator","doneCallbacks","EventEmitter","lastClientAccessPages","lastServerAccessPagesForAppDir","Invalidator","building","Set","rebuildAgain","constructor","multiCompiler","shouldRebuildAll","size","invalidate","compilerKeys","has","add","compilers","watching","startBuilding","compilerKey","doneBuilding","rebuild","delete","push","disposeInactiveEntries","maxInactiveAge","forEach","entryKey","entryData","lastActiveTime","status","dispose","type","includes","Date","now","tryToNormalizePagePath","page","normalizePagePath","err","console","error","PageNotFoundError","findPagePathData","rootDir","extensions","pagesDir","appDir","normalizedPagePath","pagePath","isMiddlewareFile","isInstrumentationHookFile","findPageFile","pageUrl","ensureLeadingSlash","removePagePathTail","normalizePathSep","absolutePagePath","join","bundlePath","posix","normalize","keepIndex","require","resolve","findRoutePathData","match","definition","filename","nextConfig","pagesBufferLength","compilation","compilationName","name","compiler","hooks","make","tap","getPagePathsFromEntrypoints","entrypoints","root","pagePaths","entrypoint","values","getRouteFromEntrypoint","isMiddlewareFilename","isInstrumentationHookFilename","done","multiStats","clientStats","serverStats","edgeServerStats","stats","COMPILER_NAMES","client","server","edgeServer","entry","emit","pingIntervalTime","Math","max","min","setInterval","unref","handleAppDirPing","pages","toSend","invalid","compilerType","pageKey","entryInfo","unshift","pop","success","handlePing","pg","ensurePage","clientOnly","appPaths","stalledTime","stalledEnsureTimeout","setTimeout","kind","RouteKind","APP_PAGE","route","pagePathData","pageExtensions","isInsideAppDir","addEntry","newEntry","shouldInvalidate","request","staticInfo","getPageStaticInfo","pageFilePath","isDev","pageType","added","Map","isServerComponent","rsc","RSC_MODULE_TYPES","runDependingOnPageType","pageRuntime","runtime","onClient","set","onServer","edgeServerEntry","onEdgeServer","serverEntry","addedValues","entriesThatShouldBeInvalidated","filter","hasNewEntry","some","reportTrigger","invalidatePromises","map","Promise","reject","once","all","clearTimeout","onHMR","addEventListener","data","parsedData","JSON","parse","toString","event","result","appDirRoute","send","stringify","_"],"mappings":"AAAA;;;;QAqZgBA,oBAAoB,GAApBA,oBAAoB;;AApZd,IAAA,MAA0B,kCAA1B,0BAA0B,EAAA;AAKnB,IAAA,OAAQ,WAAR,QAAQ,CAAA;AACR,IAAA,aAAuB,WAAvB,uBAAuB,CAAA;AACb,IAAA,QAAqB,WAArB,qBAAqB,CAAA;AAChC,IAAA,KAAM,WAAN,MAAM,CAAA;AACD,IAAA,iBAA+C,WAA/C,+CAA+C,CAAA;AAC9C,IAAA,kBAAgD,WAAhD,gDAAgD,CAAA;AAC/C,IAAA,mBAAiD,WAAjD,iDAAiD,CAAA;AACjD,IAAA,mBAAkD,WAAlD,kDAAkD,CAAA;AACvD,IAAA,OAAoB,WAApB,oBAAoB,CAAA;AACf,IAAA,uBAA8B,kCAA9B,8BAA8B,EAAA;AAC/B,IAAA,kBAA2C,WAA3C,2CAA2C,CAAA;AAMtE,IAAA,MAAmB,WAAnB,mBAAmB,CAAA;AACQ,IAAA,OAAwB,WAAxB,wBAAwB,CAAA;AAMnD,IAAA,UAA4B,WAA5B,4BAA4B,CAAA;AAET,IAAA,UAAsB,WAAtB,sBAAsB,CAAA;;;;;;AAGhD,MAAMC,KAAK,GAAGC,CAAAA,GAAAA,MAAS,AAAgC,CAAA,QAAhC,CAAC,8BAA8B,CAAC;AAEvD;;GAEG,CACH,MAAMC,IAAI,GAAGC,MAAM,CAACD,IAAI,AAA2C;AAEnE,MAAME,aAAa,GAAGF,IAAI,CAACG,UAAgB,iBAAA,CAAC;AAE5C,SAASC,oBAAoB,CAC3BC,WAAqB,EACrBC,UAAmB,EACX;IACR,MAAM,CAACC,gBAAgB,EAAEC,OAAO,CAAC,GAAGH,WAAW;IAE/C,kEAAkE;IAClE,MAAMI,IAAI,GACR,CAACH,UAAU,GAAGA,UAAU,GAAG,GAAG,GAAG,EAAE,CAAC,GACpC,CAACC,gBAAgB,KAAK,UAAU,IAAI,CAACC,OAAO,CAACE,UAAU,CAAC,GAAG,CAAC,GACxDH,gBAAgB,GAAG,GAAG,GACtB,EAAE,CAAC,GACP,CAACC,OAAO,KAAK,EAAE,GAAG,MAAM,GAAGA,OAAO,CAAC;IAErC,eAAe;IACf,IAAIH,WAAW,CAACM,MAAM,KAAK,CAAC,EAAE;QAC5B,OAAOF,IAAI,CAAA;KACZ;IAED,MAAMG,gBAAgB,GAAGP,WAAW,CAACQ,KAAK,CAAC,CAAC,CAAC;IAC7C,OAAOT,oBAAoB,CAACQ,gBAAgB,EAAEH,IAAI,CAAC,CAAA;CACpD;AAED,SAASK,+BAA+B,CACtCC,qBAA6C,EAC7CC,KAAa,EACb;IACA,OAAQD,qBAAqB;QAC3B,KAAK,GAAG;YACN,OAAO,CAAC,IAAI,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAA;QACxB,KAAK,IAAI;YACP,OAAO,CAAC,KAAK,EAAEA,KAAK,CAAC,EAAE,CAAC,CAAA;QAC1B,KAAK,GAAG;YACN,OAAO,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAA;QACrB;YACE,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC,CAAA;KAChD;CACF;AAED,SAASC,sBAAsB,CAC7BC,IAAuB,EACvBC,OAAgB,EAChBd,UAAoB,GAAG,EAAE,EACzB;IACA,MAAM,CAACE,OAAO,EAAEa,cAAc,CAAC,GAAGF,IAAI;IAEtC,MAAMG,cAAc,GAAGC,KAAK,CAACC,OAAO,CAAChB,OAAO,CAAC,GACzCM,+BAA+B,CAACN,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,CAAC,GACvDA,OAAO;IAEX,MAAMiB,WAAW,GAAG;WAAInB,UAAU;QAAEgB,cAAc;KAAC;IAEnD,IAAI,CAACF,OAAO,IAAIE,cAAc,KAAK,EAAE,EAAE;QACrC,0CAA0C;QAC1C,OAAO;YAAClB,oBAAoB,CAACqB,WAAW,CAACZ,KAAK,CAAC,CAAC,CAAC,CAAC;SAAC,CAAA;KACpD;IAED,OAAOZ,MAAM,CAACD,IAAI,CAACqB,cAAc,CAAC,CAACK,MAAM,CACvC,CAACC,KAAe,EAAEC,GAAW,GAAe;QAC1C,MAAMC,SAAS,GAAGR,cAAc,CAACO,GAAG,CAAC;QACrC,MAAME,UAAU,GAAGZ,sBAAsB,CAACW,SAAS,EAAE,KAAK,EAAE;eACvDJ,WAAW;YACdG,GAAG;SACJ,CAAC;QACF,OAAO;eAAID,KAAK;eAAKG,UAAU;SAAC,CAAA;KACjC,EACD,EAAE,CACH,CAAA;CACF;AAEM,MAAMC,KAAK,GAAGC,MAAM,CAAC,OAAO,CAAC;QAAvBD,KAAK,GAALA,KAAK;AACX,MAAME,QAAQ,GAAGD,MAAM,CAAC,UAAU,CAAC;QAA7BC,QAAQ,GAARA,QAAQ;AACd,MAAMC,KAAK,GAAGF,MAAM,CAAC,OAAO,CAAC;QAAvBE,KAAK,GAALA,KAAK;IA8BX,UAGN;;UAHiBC,UAAU;IAAVA,UAAU,CAAVA,UAAU,CAC1BC,OAAK,IAALA,CAAK,IAALA,OAAK;IADWD,UAAU,CAAVA,UAAU,CAE1BE,aAAW,IAAXA,CAAW,IAAXA,aAAW;GAFKF,UAAU,0BAAVA,UAAU;AA0BrB,MAAMG,OAAO,GAMhB,EAAE;QANOA,OAAO,GAAPA,OAAO;AAQpB,IAAIC,WAAW,AAAa;AACrB,MAAMC,cAAc,GAAG,IAAMD,WAAW;QAAlCC,cAAc,GAAdA,cAAc;AAE3B,MAAMC,aAAa,GAAwB,IAAIC,OAAY,aAAA,EAAE;AAC7D,MAAMC,qBAAqB,GAAG;IAAC,EAAE;CAAC;AAClC,MAAMC,8BAA8B,GAAG;IAAC,EAAE;CAAC;AAK3C,oDAAoD;AACpD,6EAA6E;AAC7E,MAAMC,WAAW;IAGf,AAAQC,QAAQ,GAAoB,IAAIC,GAAG,EAAE,CAAA;IAC7C,AAAQC,YAAY,GAAmB,IAAID,GAAG,EAAE,CAAA;IAEhDE,YAAYC,aAAoC,CAAE;QAChD,IAAI,CAACA,aAAa,GAAGA,aAAa;KACnC;IAED,AAAOC,gBAAgB,GAAG;QACxB,OAAO,IAAI,CAACH,YAAY,CAACI,IAAI,GAAG,CAAC,CAAA;KAClC;IAEDC,UAAU,CAACC,YAAkC,GAAGpD,aAAa,EAAQ;QACnE,KAAK,MAAM0B,GAAG,IAAI0B,YAAY,CAAE;gBAW9B,GAA4D;YAV5D,+EAA+E;YAC/E,sDAAsD;YACtD,sDAAsD;YACtD,gDAAgD;YAEhD,IAAI,IAAI,CAACR,QAAQ,CAACS,GAAG,CAAC3B,GAAG,CAAC,EAAE;gBAC1B,IAAI,CAACoB,YAAY,CAACQ,GAAG,CAAC5B,GAAG,CAAC;gBAC1B,SAAQ;aACT;YAED,CAAA,GAA4D,GAA5D,IAAI,CAACsB,aAAa,CAACO,SAAS,CAACtD,UAAgB,iBAAA,CAACyB,GAAG,CAAC,CAAC,CAAC8B,QAAQ,SAAY,GAAxE,KAAA,CAAwE,GAAxE,GAA4D,CAAEL,UAAU,EAAE,CAAA;YAC1E,IAAI,CAACP,QAAQ,CAACU,GAAG,CAAC5B,GAAG,CAAC;SACvB;KACF;IAED,AAAO+B,aAAa,CAACC,WAA0C,EAAE;QAC/D,IAAI,CAACd,QAAQ,CAACU,GAAG,CAACI,WAAW,CAAC;KAC/B;IAED,AAAOC,YAAY,GAAG;QACpB,MAAMC,OAAO,GAAyB,EAAE;QACxC,KAAK,MAAMlC,GAAG,IAAI1B,aAAa,CAAE;YAC/B,IAAI,CAAC4C,QAAQ,CAACiB,MAAM,CAACnC,GAAG,CAAC;YAEzB,IAAI,IAAI,CAACoB,YAAY,CAACO,GAAG,CAAC3B,GAAG,CAAC,EAAE;gBAC9BkC,OAAO,CAACE,IAAI,CAACpC,GAAG,CAAC;gBACjB,IAAI,CAACoB,YAAY,CAACe,MAAM,CAACnC,GAAG,CAAC;aAC9B;SACF;QACD,IAAI,CAACyB,UAAU,CAACS,OAAO,CAAC;KACzB;CACF;AAED,SAASG,sBAAsB,CAACC,cAAsB,EAAE;IACtDjE,MAAM,CAACD,IAAI,CAACsC,OAAO,CAAC,CAAC6B,OAAO,CAAC,CAACC,QAAQ,GAAK;QACzC,MAAMC,SAAS,GAAG/B,OAAO,CAAC8B,QAAQ,CAAC;QACnC,MAAM,EAAEE,cAAc,CAAA,EAAEC,MAAM,CAAA,EAAEC,OAAO,CAAA,EAAE,GAAGH,SAAS;QAErD,+CAA+C;QAC/C,IAAIA,SAAS,CAACI,IAAI,KAnGpBpC,CAAW,AAmGoC,EAAE;YAC7C,OAAM;SACP;QAED,IAAImC,OAAO,EACT,6CAA6C;QAC7C,OAAM;QAER,4DAA4D;QAC5D,0CAA0C;QAC1C,IAAID,MAAM,KAAKrC,KAAK,EAAE,OAAM;QAE5B,0EAA0E;QAC1E,kFAAkF;QAClF,+DAA+D;QAC/D,IACES,qBAAqB,CAAC+B,QAAQ,CAACN,QAAQ,CAAC,IACxCxB,8BAA8B,CAAC8B,QAAQ,CAACN,QAAQ,CAAC,EAEjD,OAAM;QAER,IAAIE,cAAc,IAAIK,IAAI,CAACC,GAAG,EAAE,GAAGN,cAAc,GAAGJ,cAAc,EAAE;YAClE5B,OAAO,CAAC8B,QAAQ,CAAC,CAACI,OAAO,GAAG,IAAI;SACjC;KACF,CAAC;CACH;AAED,0CAA0C;AAC1C,SAASK,sBAAsB,CAACC,IAAY,EAAE;IAC5C,IAAI;QACF,OAAOC,CAAAA,GAAAA,kBAAiB,AAAM,CAAA,kBAAN,CAACD,IAAI,CAAC,CAAA;KAC/B,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClB,MAAM,IAAIG,OAAiB,kBAAA,CAACL,IAAI,CAAC,CAAA;KAClC;CACF;AAED;;;;;;;;;GASG,CACH,eAAeM,gBAAgB,CAC7BC,OAAe,EACfP,IAAY,EACZQ,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACf;IACA,MAAMC,kBAAkB,GAAGZ,sBAAsB,CAACC,IAAI,CAAC;IACvD,IAAIY,QAAQ,GAAkB,IAAI;IAElC,IACEC,CAAAA,GAAAA,MAAgB,AAAoB,CAAA,iBAApB,CAACF,kBAAkB,CAAC,IACpCG,CAAAA,GAAAA,MAAyB,AAAoB,CAAA,0BAApB,CAACH,kBAAkB,CAAC,EAC7C;QACAC,QAAQ,GAAG,MAAMG,CAAAA,GAAAA,aAAY,AAK5B,CAAA,aAL4B,CAC3BR,OAAO,EACPI,kBAAkB,EAClBH,UAAU,EACV,KAAK,CACN;QAED,IAAI,CAACI,QAAQ,EAAE;YACb,MAAM,IAAIP,OAAiB,kBAAA,CAACM,kBAAkB,CAAC,CAAA;SAChD;QAED,MAAMK,OAAO,GAAGC,CAAAA,GAAAA,mBAAkB,AAIjC,CAAA,mBAJiC,CAChCC,CAAAA,GAAAA,mBAAkB,AAEhB,CAAA,mBAFgB,CAACC,CAAAA,GAAAA,iBAAgB,AAAU,CAAA,iBAAV,CAACP,QAAQ,CAAC,EAAE;YAC7CJ,UAAU;SACX,CAAC,CACH;QAED,OAAO;YACLY,gBAAgB,EAAEC,CAAAA,GAAAA,KAAI,AAAmB,CAAA,KAAnB,CAACd,OAAO,EAAEK,QAAQ,CAAC;YACzCU,UAAU,EAAEX,kBAAkB,CAAC5E,KAAK,CAAC,CAAC,CAAC;YACvCiE,IAAI,EAAEuB,KAAK,MAAA,CAACC,SAAS,CAACR,OAAO,CAAC;SAC/B,CAAA;KACF;IAED,8CAA8C;IAC9C,IAAIN,MAAM,EAAE;QACVE,QAAQ,GAAG,MAAMG,CAAAA,GAAAA,aAAY,AAA8C,CAAA,aAA9C,CAACL,MAAM,EAAEC,kBAAkB,EAAEH,UAAU,EAAE,IAAI,CAAC;QAC3E,IAAII,QAAQ,EAAE;YACZ,MAAMI,OAAO,GAAGC,CAAAA,GAAAA,mBAAkB,AAKjC,CAAA,mBALiC,CAChCC,CAAAA,GAAAA,mBAAkB,AAGhB,CAAA,mBAHgB,CAACC,CAAAA,GAAAA,iBAAgB,AAAU,CAAA,iBAAV,CAACP,QAAQ,CAAC,EAAE;gBAC7Ca,SAAS,EAAE,IAAI;gBACfjB,UAAU;aACX,CAAC,CACH;YAED,OAAO;gBACLY,gBAAgB,EAAEC,CAAAA,GAAAA,KAAI,AAAkB,CAAA,KAAlB,CAACX,MAAM,EAAEE,QAAQ,CAAC;gBACxCU,UAAU,EAAEC,KAAK,MAAA,CAACF,IAAI,CAAC,KAAK,EAAEL,OAAO,CAAC;gBACtChB,IAAI,EAAEuB,KAAK,MAAA,CAACC,SAAS,CAACR,OAAO,CAAC;aAC/B,CAAA;SACF;KACF;IAED,IAAI,CAACJ,QAAQ,IAAIH,QAAQ,EAAE;QACzBG,QAAQ,GAAG,MAAMG,CAAAA,GAAAA,aAAY,AAK5B,CAAA,aAL4B,CAC3BN,QAAQ,EACRE,kBAAkB,EAClBH,UAAU,EACV,KAAK,CACN;KACF;IAED,IAAII,QAAQ,KAAK,IAAI,IAAIH,QAAQ,EAAE;QACjC,MAAMO,OAAO,GAAGC,CAAAA,GAAAA,mBAAkB,AAIjC,CAAA,mBAJiC,CAChCC,CAAAA,GAAAA,mBAAkB,AAEhB,CAAA,mBAFgB,CAACC,CAAAA,GAAAA,iBAAgB,AAAU,CAAA,iBAAV,CAACP,QAAQ,CAAC,EAAE;YAC7CJ,UAAU;SACX,CAAC,CACH;QAED,OAAO;YACLY,gBAAgB,EAAEC,CAAAA,GAAAA,KAAI,AAAoB,CAAA,KAApB,CAACZ,QAAQ,EAAEG,QAAQ,CAAC;YAC1CU,UAAU,EAAEC,KAAK,MAAA,CAACF,IAAI,CAAC,OAAO,EAAEpB,CAAAA,GAAAA,kBAAiB,AAAS,CAAA,kBAAT,CAACe,OAAO,CAAC,CAAC;YAC3DhB,IAAI,EAAEuB,KAAK,MAAA,CAACC,SAAS,CAACR,OAAO,CAAC;SAC/B,CAAA;KACF;IAED,IAAIhB,IAAI,KAAK,SAAS,EAAE;QACtB,OAAO;YACLoB,gBAAgB,EAAEM,OAAO,CAACC,OAAO,CAAC,wBAAwB,CAAC;YAC3DL,UAAU,EAAEtB,IAAI;YAChBA,IAAI,EAAEmB,CAAAA,GAAAA,iBAAgB,AAAM,CAAA,iBAAN,CAACnB,IAAI,CAAC;SAC7B,CAAA;KACF,MAAM;QACL,MAAM,IAAIK,OAAiB,kBAAA,CAACM,kBAAkB,CAAC,CAAA;KAChD;CACF;AAED,eAAeiB,iBAAiB,CAC9BrB,OAAe,EACfP,IAAY,EACZQ,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACfmB,KAAkB,EACmB;IACrC,IAAIA,KAAK,EAAE;QACT,yEAAyE;QACzE,cAAc;QACd,OAAO;YACLT,gBAAgB,EAAES,KAAK,CAACC,UAAU,CAACC,QAAQ;YAC3C/B,IAAI,EAAE6B,KAAK,CAACC,UAAU,CAAC9B,IAAI;YAC3BsB,UAAU,EAAEO,KAAK,CAACC,UAAU,CAACR,UAAU;SACxC,CAAA;KACF;IAED,OAAOhB,gBAAgB,CAACC,OAAO,EAAEP,IAAI,EAAEQ,UAAU,EAAEC,QAAQ,EAAEC,MAAM,CAAC,CAAA;CACrE;AAEM,SAAS3F,oBAAoB,CAAC,EACnCqE,cAAc,CAAA,EACdhB,aAAa,CAAA,EACb4D,UAAU,CAAA,EACVC,iBAAiB,CAAA,EACjBxB,QAAQ,CAAA,EACRF,OAAO,CAAA,EACPG,MAAM,CAAA,EASP,EAAE;IACDjD,WAAW,GAAG,IAAIM,WAAW,CAACK,aAAa,CAAC;IAE5C,MAAMS,aAAa,GAAG,CAACqD,WAAgC,GAAK;QAC1D,MAAMC,eAAe,GAAGD,WAAW,CAACE,IAAI,AAA6B;QACrE3E,WAAW,CAACoB,aAAa,CAACsD,eAAe,CAAC;KAC3C;IACD,KAAK,MAAME,QAAQ,IAAIjE,aAAa,CAACO,SAAS,CAAE;QAC9C0D,QAAQ,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,uBAAuB,EAAE3D,aAAa,CAAC;KAChE;IAED,SAAS4D,2BAA2B,CAClC9C,IAAwB,EACxB+C,WAA2C,EAC3CC,IAAc,EACd;QACA,MAAMC,SAAS,GAAa,EAAE;QAC9B,KAAK,MAAMC,UAAU,IAAIH,WAAW,CAACI,MAAM,EAAE,CAAE;YAC7C,MAAM9C,IAAI,GAAG+C,CAAAA,GAAAA,uBAAsB,AAAwB,CAAA,QAAxB,CAACF,UAAU,CAACT,IAAI,EAAGO,IAAI,CAAC;YAC3D,IAAI3C,IAAI,EAAE;gBACR4C,SAAS,CAAC1D,IAAI,CAAC,CAAC,EAAES,IAAI,CAAC,EAAEK,IAAI,CAAC,CAAC,CAAC;aACjC,MAAM,IACL,AAAC2C,IAAI,IAAIE,UAAU,CAACT,IAAI,KAAK,MAAM,IACnCY,CAAAA,GAAAA,MAAoB,AAAiB,CAAA,qBAAjB,CAACH,UAAU,CAACT,IAAI,CAAC,IACrCa,CAAAA,GAAAA,MAA6B,AAAiB,CAAA,8BAAjB,CAACJ,UAAU,CAACT,IAAI,CAAC,EAC9C;gBACAQ,SAAS,CAAC1D,IAAI,CAAC,CAAC,EAAES,IAAI,CAAC,CAAC,EAAEkD,UAAU,CAACT,IAAI,CAAC,CAAC,CAAC;aAC7C;SACF;QAED,OAAOQ,SAAS,CAAA;KACjB;IAEDxE,aAAa,CAACkE,KAAK,CAACY,IAAI,CAACV,GAAG,CAAC,uBAAuB,EAAE,CAACW,UAAU,GAAK;QACpE,IAAI1F,WAAW,CAACY,gBAAgB,EAAE,EAAE;YAClC,OAAOZ,WAAW,CAACsB,YAAY,EAAE,CAAA;SAClC;QACD,MAAM,CAACqE,WAAW,EAAEC,WAAW,EAAEC,eAAe,CAAC,GAAGH,UAAU,CAACI,KAAK;QACpE,MAAMZ,IAAI,GAAG,CAAC,CAACjC,MAAM;QACrB,MAAMkC,SAAS,GAAG;eACbH,2BAA2B,CAC5Be,UAAc,eAAA,CAACC,MAAM,EACrBL,WAAW,CAAClB,WAAW,CAACQ,WAAW,EACnCC,IAAI,CACL;eACEF,2BAA2B,CAC5Be,UAAc,eAAA,CAACE,MAAM,EACrBL,WAAW,CAACnB,WAAW,CAACQ,WAAW,EACnCC,IAAI,CACL;eACGW,eAAe,GACfb,2BAA2B,CACzBe,UAAc,eAAA,CAACG,UAAU,EACzBL,eAAe,CAACpB,WAAW,CAACQ,WAAW,EACvCC,IAAI,CACL,GACD,EAAE;SACP;QAED,KAAK,MAAM3C,IAAI,IAAI4C,SAAS,CAAE;YAC5B,MAAMgB,KAAK,GAAGpG,OAAO,CAACwC,IAAI,CAAC;YAC3B,IAAI,CAAC4D,KAAK,EAAE;gBACV,SAAQ;aACT;YAED,IAAIA,KAAK,CAACnE,MAAM,KAAKtC,QAAQ,EAAE;gBAC7B,SAAQ;aACT;YAEDyG,KAAK,CAACnE,MAAM,GAAGrC,KAAK;YACpBO,aAAa,CAAEkG,IAAI,CAAC7D,IAAI,CAAC;SAC1B;QAEDvC,WAAW,CAACsB,YAAY,EAAE;KAC3B,CAAC;IAEF,MAAM+E,gBAAgB,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,EAAED,IAAI,CAACE,GAAG,CAAC,IAAI,EAAE7E,cAAc,CAAC,CAAC;IAEvE8E,WAAW,CAAC,WAAY;QACtB/E,sBAAsB,CAACC,cAAc,CAAC;KACvC,EAAE0E,gBAAgB,GAAG,IAAI,CAAC,CAACK,KAAK,EAAE;IAEnC,SAASC,gBAAgB,CACvB/H,IAAuB,EACgB;QACvC,MAAMgI,KAAK,GAAGjI,sBAAsB,CAACC,IAAI,EAAE,IAAI,CAAC;QAChD,IAAIiI,MAAM,GAA0C;YAAEC,OAAO,EAAE,IAAI;SAAE;QAErE,KAAK,MAAMvE,IAAI,IAAIqE,KAAK,CAAE;YACxB,KAAK,MAAMG,YAAY,IAAI;gBACzBhB,UAAc,eAAA,CAACC,MAAM;gBACrBD,UAAc,eAAA,CAACE,MAAM;gBACrBF,UAAc,eAAA,CAACG,UAAU;aAC1B,CAAE;gBACD,MAAMc,OAAO,GAAG,CAAC,EAAED,YAAY,CAAC,CAAC,EAAExE,IAAI,CAAC,CAAC;gBACzC,MAAM0E,SAAS,GAAGlH,OAAO,CAACiH,OAAO,CAAC;gBAElC,8EAA8E;gBAC9E,IAAI,CAACC,SAAS,EAAE;oBAEd,SAAQ;iBACT;gBAED,8EAA8E;gBAC9E,IAAIA,SAAS,CAACjF,MAAM,KAAKrC,KAAK,EAAE,SAAQ;gBAExC,0BAA0B;gBAC1B,IAAI,CAACU,8BAA8B,CAAC8B,QAAQ,CAAC6E,OAAO,CAAC,EAAE;oBACrD3G,8BAA8B,CAAC6G,OAAO,CAACF,OAAO,CAAC;oBAE/C,iCAAiC;oBACjC,yGAAyG;oBACzG,IAAI3G,8BAA8B,CAACjC,MAAM,GAAGoG,iBAAiB,EAAE;wBAC7DnE,8BAA8B,CAAC8G,GAAG,EAAE;qBACrC;iBACF;gBACDF,SAAS,CAAClF,cAAc,GAAGK,IAAI,CAACC,GAAG,EAAE;gBACrC4E,SAAS,CAAChF,OAAO,GAAG,KAAK;gBACzB4E,MAAM,GAAG;oBAAEO,OAAO,EAAE,IAAI;iBAAE;aAC3B;SACF;QAED,OAAOP,MAAM,CAAA;KACd;IAED,SAASQ,UAAU,CAACC,EAAU,EAAE;QAC9B,MAAM/E,IAAI,GAAGmB,CAAAA,GAAAA,iBAAgB,AAAI,CAAA,iBAAJ,CAAC4D,EAAE,CAAC;QACjC,IAAIT,MAAM,GAA0C;YAAEC,OAAO,EAAE,IAAI;SAAE;QAErE,KAAK,MAAMC,YAAY,IAAI;YACzBhB,UAAc,eAAA,CAACC,MAAM;YACrBD,UAAc,eAAA,CAACE,MAAM;YACrBF,UAAc,eAAA,CAACG,UAAU;SAC1B,CAAE;YACD,MAAMc,OAAO,GAAG,CAAC,EAAED,YAAY,CAAC,EAAExE,IAAI,CAAC,CAAC;YACxC,MAAM0E,SAAS,GAAGlH,OAAO,CAACiH,OAAO,CAAC;YAElC,8EAA8E;YAC9E,IAAI,CAACC,SAAS,EAAE;gBACd,sEAAsE;gBACtE,IAAIF,YAAY,KAAKhB,UAAc,eAAA,CAACC,MAAM,EAAE;oBAC1C,OAAO;wBAAEc,OAAO,EAAE,IAAI;qBAAE,CAAA;iBACzB;gBACD,SAAQ;aACT;YAED,qFAAqF;YACrFD,MAAM,GAAGtE,IAAI,KAAK,SAAS,GAAG;gBAAEuE,OAAO,EAAE,IAAI;aAAE,GAAG;gBAAEM,OAAO,EAAE,IAAI;aAAE;YAEnE,8EAA8E;YAC9E,IAAIH,SAAS,CAACjF,MAAM,KAAKrC,KAAK,EAAE,SAAQ;YAExC,0BAA0B;YAC1B,IAAI,CAACS,qBAAqB,CAAC+B,QAAQ,CAAC6E,OAAO,CAAC,EAAE;gBAC5C5G,qBAAqB,CAAC8G,OAAO,CAACF,OAAO,CAAC;gBAEtC,iCAAiC;gBACjC,IAAI5G,qBAAqB,CAAChC,MAAM,GAAGoG,iBAAiB,EAAE;oBACpDpE,qBAAqB,CAAC+G,GAAG,EAAE;iBAC5B;aACF;YACDF,SAAS,CAAClF,cAAc,GAAGK,IAAI,CAACC,GAAG,EAAE;YACrC4E,SAAS,CAAChF,OAAO,GAAG,KAAK;SAC1B;QACD,OAAO4E,MAAM,CAAA;KACd;IAED,OAAO;QACL,MAAMU,UAAU,EAAC,EACfhF,IAAI,CAAA,EACJiF,UAAU,CAAA,EACVC,QAAQ,EAAG,IAAI,CAAA,EACfrD,KAAK,CAAA,EAMN,EAAiB;YAChB,MAAMsD,WAAW,GAAG,EAAE;YACtB,MAAMC,oBAAoB,GAAGC,UAAU,CAAC,IAAM;gBAC5CrK,KAAK,CACH,CAAC,SAAS,EAAEgF,IAAI,CAAC,uBAAuB,EAAEmF,WAAW,CAAC,+CAA+C,CAAC,CACvG;aACF,EAAEA,WAAW,GAAG,IAAI,CAAC;YAEtB,yEAAyE;YACzE,+DAA+D;YAC/D,IAAItD,CAAAA,KAAK,QAAY,GAAjBA,KAAAA,CAAiB,GAAjBA,KAAK,CAAEC,UAAU,CAACwD,IAAI,MAAKC,UAAS,UAAA,CAACC,QAAQ,EAAE;gBACjD,MAAM,EAAE1D,UAAU,EAAE2D,KAAK,CAAA,EAAE,GAAG5D,KAAK,AAAqB;gBACxDqD,QAAQ,GAAGO,KAAK,CAACP,QAAQ;aAC1B;YAED,IAAI;gBACF,MAAMQ,YAAY,GAAG,MAAM9D,iBAAiB,CAC1CrB,OAAO,EACPP,IAAI,EACJgC,UAAU,CAAC2D,cAAc,EACzBlF,QAAQ,EACRC,MAAM,EACNmB,KAAK,CACN;gBAED,MAAM+D,cAAc,GAClB,CAAC,CAAClF,MAAM,IAAIgF,YAAY,CAACtE,gBAAgB,CAACxF,UAAU,CAAC8E,MAAM,CAAC;gBAE9D,MAAMmF,QAAQ,GAAG,CACfrB,YAAgC,GAK7B;oBACH,MAAMlF,QAAQ,GAAG,CAAC,EAAEkF,YAAY,CAAC,EAAEkB,YAAY,CAAC1F,IAAI,CAAC,CAAC;oBACtD,IACExC,OAAO,CAAC8B,QAAQ,CAAC,IACjB,sGAAsG;oBACtG,4HAA4H;oBAC5H,+FAA+F;oBAC/F,CAAC2D,CAAAA,GAAAA,MAA6B,AAA8B,CAAA,8BAA9B,CAACzF,OAAO,CAAC8B,QAAQ,CAAC,CAACgC,UAAU,CAAC,EAC5D;wBACA9D,OAAO,CAAC8B,QAAQ,CAAC,CAACI,OAAO,GAAG,KAAK;wBACjClC,OAAO,CAAC8B,QAAQ,CAAC,CAACE,cAAc,GAAGK,IAAI,CAACC,GAAG,EAAE;wBAC7C,IAAItC,OAAO,CAAC8B,QAAQ,CAAC,CAACG,MAAM,KAAKrC,KAAK,EAAE;4BACtC,OAAO;gCACLkC,QAAQ;gCACRwG,QAAQ,EAAE,KAAK;gCACfC,gBAAgB,EAAE,KAAK;6BACxB,CAAA;yBACF;wBAED,OAAO;4BACLzG,QAAQ;4BACRwG,QAAQ,EAAE,KAAK;4BACfC,gBAAgB,EAAE,IAAI;yBACvB,CAAA;qBACF;oBAEDvI,OAAO,CAAC8B,QAAQ,CAAC,GAAG;wBAClBK,IAAI,EAlgBdrC,CAAK;wBAmgBK4H,QAAQ;wBACR9D,gBAAgB,EAAEsE,YAAY,CAACtE,gBAAgB;wBAC/C4E,OAAO,EAAEN,YAAY,CAACtE,gBAAgB;wBACtCE,UAAU,EAAEoE,YAAY,CAACpE,UAAU;wBACnC5B,OAAO,EAAE,KAAK;wBACdF,cAAc,EAAEK,IAAI,CAACC,GAAG,EAAE;wBAC1BL,MAAM,EAAExC,KAAK;qBACd;oBACD,OAAO;wBACLqC,QAAQ,EAAEA,QAAQ;wBAClBwG,QAAQ,EAAE,IAAI;wBACdC,gBAAgB,EAAE,IAAI;qBACvB,CAAA;iBACF;gBAED,MAAME,UAAU,GAAG,MAAMC,CAAAA,GAAAA,kBAAiB,AAKxC,CAAA,kBALwC,CAAC;oBACzCC,YAAY,EAAET,YAAY,CAACtE,gBAAgB;oBAC3CY,UAAU;oBACVoE,KAAK,EAAE,IAAI;oBACXC,QAAQ,EAAET,cAAc,GAAG,KAAK,GAAG,OAAO;iBAC3C,CAAC;gBAEF,MAAMU,KAAK,GAAG,IAAIC,GAAG,EAAmD;gBACxE,MAAMC,iBAAiB,GACrBZ,cAAc,IAAIK,UAAU,CAACQ,GAAG,KAAKC,UAAgB,iBAAA,CAACjD,MAAM;gBAC9D,MAAM4C,QAAQ,GAAGX,YAAY,CAACpE,UAAU,CAAC1F,UAAU,CAAC,QAAQ,CAAC,GACzD,OAAO,GACP8J,YAAY,CAACpE,UAAU,CAAC1F,UAAU,CAAC,MAAM,CAAC,GAC1C,KAAK,GACL,MAAM;gBACV,MAAM+K,CAAAA,GAAAA,QAAsB,AAoC1B,CAAA,uBApC0B,CAAC;oBAC3B3G,IAAI,EAAE0F,YAAY,CAAC1F,IAAI;oBACvB4G,WAAW,EAAEX,UAAU,CAACY,OAAO;oBAC/BR,QAAQ;oBACRS,QAAQ,EAAE,IAAM;wBACd,4DAA4D;wBAC5D,IAAIN,iBAAiB,IAAIZ,cAAc,EAAE;4BACvC,OAAM;yBACP;wBACDU,KAAK,CAACS,GAAG,CAACvD,UAAc,eAAA,CAACC,MAAM,EAAEoC,QAAQ,CAACrC,UAAc,eAAA,CAACC,MAAM,CAAC,CAAC;qBAClE;oBACDuD,QAAQ,EAAE,IAAM;wBACdV,KAAK,CAACS,GAAG,CAACvD,UAAc,eAAA,CAACE,MAAM,EAAEmC,QAAQ,CAACrC,UAAc,eAAA,CAACE,MAAM,CAAC,CAAC;wBACjE,MAAMuD,eAAe,GAAG,CAAC,EAAEzD,UAAc,eAAA,CAACG,UAAU,CAAC,EAAE+B,YAAY,CAAC1F,IAAI,CAAC,CAAC;wBAC1E,IACExC,OAAO,CAACyJ,eAAe,CAAC,IACxB,CAACnG,CAAAA,GAAAA,MAAyB,AAAmB,CAAA,0BAAnB,CAAC4E,YAAY,CAAC1F,IAAI,CAAC,EAC7C;4BACA,uCAAuC;4BACvC,OAAOxC,OAAO,CAACyJ,eAAe,CAAC;yBAChC;qBACF;oBACDC,YAAY,EAAE,IAAM;wBAClBZ,KAAK,CAACS,GAAG,CACPvD,UAAc,eAAA,CAACG,UAAU,EACzBkC,QAAQ,CAACrC,UAAc,eAAA,CAACG,UAAU,CAAC,CACpC;wBACD,MAAMwD,WAAW,GAAG,CAAC,EAAE3D,UAAc,eAAA,CAACE,MAAM,CAAC,EAAEgC,YAAY,CAAC1F,IAAI,CAAC,CAAC;wBAClE,IACExC,OAAO,CAAC2J,WAAW,CAAC,IACpB,CAACrG,CAAAA,GAAAA,MAAyB,AAAmB,CAAA,0BAAnB,CAAC4E,YAAY,CAAC1F,IAAI,CAAC,EAC7C;4BACA,uCAAuC;4BACvC,OAAOxC,OAAO,CAAC2J,WAAW,CAAC;yBAC5B;qBACF;iBACF,CAAC;gBAEF,MAAMC,WAAW,GAAG;uBAAId,KAAK,CAACxD,MAAM,EAAE;iBAAC;gBACvC,MAAMuE,8BAA8B,GAAGD,WAAW,CAACE,MAAM,CACvD,CAAC1D,KAAK,GAAKA,KAAK,CAACmC,gBAAgB,CAClC;gBACD,MAAMwB,WAAW,GAAGH,WAAW,CAACI,IAAI,CAAC,CAAC5D,KAAK,GAAKA,KAAK,CAACkC,QAAQ,CAAC;gBAE/D,IAAIyB,WAAW,EAAE;oBACfE,CAAAA,GAAAA,OAAa,AAIZ,CAAA,cAJY,CACX,CAACxC,UAAU,IAAIsC,WAAW,GACtB,CAAC,EAAE7B,YAAY,CAAC1F,IAAI,CAAC,oBAAoB,CAAC,GAC1C0F,YAAY,CAAC1F,IAAI,CACtB;iBACF;gBAED,IAAIqH,8BAA8B,CAACxL,MAAM,GAAG,CAAC,EAAE;oBAC7C,MAAM6L,kBAAkB,GAAGL,8BAA8B,CAACM,GAAG,CAC3D,CAAC,EAAErI,QAAQ,CAAA,EAAE,GAAK;wBAChB,OAAO,IAAIsI,OAAO,CAAO,CAACjG,OAAO,EAAEkG,MAAM,GAAK;4BAC5ClK,aAAa,CAAEmK,IAAI,CAACxI,QAAQ,EAAE,CAACY,GAAU,GAAK;gCAC5C,IAAIA,GAAG,EAAE;oCACP,OAAO2H,MAAM,CAAC3H,GAAG,CAAC,CAAA;iCACnB;gCACDyB,OAAO,EAAE;6BACV,CAAC;yBACH,CAAC,CAAA;qBACH,CACF;oBACDlE,WAAW,CAACc,UAAU,CAAC;2BAAI+H,KAAK,CAACpL,IAAI,EAAE;qBAAC,CAAC;oBACzC,MAAM0M,OAAO,CAACG,GAAG,CAACL,kBAAkB,CAAC;iBACtC;aACF,QAAS;gBACRM,YAAY,CAAC5C,oBAAoB,CAAC;aACnC;SACF;QAED6C,KAAK,EAACxE,MAAU,EAAE;YAChBA,MAAM,CAACyE,gBAAgB,CAAC,SAAS,EAAE,CAAC,EAAEC,IAAI,CAAA,EAAE,GAAK;gBAC/C,IAAI;oBACF,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAC3B,OAAOH,IAAI,KAAK,QAAQ,GAAGA,IAAI,CAACI,QAAQ,EAAE,GAAGJ,IAAI,CAClD;oBAED,IAAIC,UAAU,CAACI,KAAK,KAAK,MAAM,EAAE;wBAC/B,MAAMC,MAAM,GAAGL,UAAU,CAACM,WAAW,GACjCtE,gBAAgB,CAACgE,UAAU,CAAC/L,IAAI,CAAC,GACjCyI,UAAU,CAACsD,UAAU,CAACpI,IAAI,CAAC;wBAC/ByD,MAAM,CAACkF,IAAI,CACTN,IAAI,CAACO,SAAS,CAAC;4BACb,GAAGH,MAAM;4BACT,CAACL,UAAU,CAACM,WAAW,GAAG,QAAQ,GAAG,OAAO,CAAC,EAAE,MAAM;yBACtD,CAAC,CACH;qBACF;iBACF,CAAC,OAAOG,CAAC,EAAE,EAAE;aACf,CAAC;SACH;KACF,CAAA;CACF"}