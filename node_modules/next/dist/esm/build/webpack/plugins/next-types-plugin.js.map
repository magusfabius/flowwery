{"version":3,"sources":["../../../../src/build/webpack/plugins/next-types-plugin.ts"],"names":["path","promises","fs","webpack","sources","WEBPACK_LAYERS","normalizeAppPath","isDynamicRoute","PLUGIN_NAME","createTypeGuardFile","fullPath","relativePath","options","type","slots","map","slot","join","collectNamedSlots","layoutPath","layoutDir","dirname","items","readdir","withFileTypes","item","isDirectory","name","startsWith","push","slice","nodeRouteTypes","edgeRouteTypes","pageFiles","Set","createRouteDefinitions","fallback","length","route","NextTypesPlugin","constructor","dir","distDir","appDir","dev","isEdgeServer","pagesDir","typedRoutes","collectPage","filePath","isApp","sep","test","page","relative","replace","split","part","endsWith","apply","compiler","distDirRelative","assetDirRelative","handleModule","_mod","assets","mod","resource","layer","server","IS_LAYOUT","IS_PAGE","relativePathToApp","relativePathToRoot","typePath","relativeImportPath","assetPath","RawSource","hooks","compilation","tap","processAssets","tapAsync","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","callback","chunkGroups","forEach","chunkGroup","chunks","chunk","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","Promise","all","file","linkTypePath"],"mappings":"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"}