{"version":3,"sources":["../../../src/server/lib/patch-fetch.ts"],"names":["AppRenderSpan","getTracer","SpanKind","CACHE_ONE_YEAR","isEdgeRuntime","process","env","NEXT_RUNTIME","patchFetch","serverHooks","staticGenerationAsyncStorage","globalThis","fetch","patched","DynamicServerError","originFetch","wrap","kind","CLIENT","input","init","staticGenerationStore","getStore","next","internal","revalidate","undefined","curRevalidate","cache","includes","initHeaders","headers","get","Headers","hasUnCacheableHeader","cacheKey","doOriginalFetch","then","res","incrementalCache","clonedRes","clone","base64Body","string","Uint8Array","arrayBuffer","forEach","byte","String","fromCharCode","btoa","Buffer","from","toString","set","data","Object","fromEntries","entries","body","err","console","warn","fetchCacheKey","entry","value","isRevalidate","isStale","pendingRevalidates","push","catch","error","resData","decodedBody","atob","Response","status","isStaticGeneration","dynamicUsageReason","pathname","dynamicUsageStack","stack","dynamicUsageDescription","hasNextConfig","forceDynamic"],"mappings":"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"}