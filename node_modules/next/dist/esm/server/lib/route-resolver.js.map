{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["RouteKind","DefaultRouteMatcherManager","DevRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","PAGES","page","filename","bundlePath","params","test","makeResolver","dir","nextConfig","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","devServer","conf","matchers","reload","customRoutes","routeResults","WeakMap","routes","generateRoutes","bind","router","catchAllRoute","name","fn","req","_res","_params","parsedUrl","key","Object","keys","query","startsWith","set","format","hash","finished","compiledRoutes","filter","route","matches","type","includes","resolveRoute","_req","res","_initUrl","execute","parse","originalResponse","headersSent","setHeader","resolvedUrl","get","delete","routeResult","statusCode","headers","getHeaders","body","JSON","stringify","send"],"mappings":"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"}